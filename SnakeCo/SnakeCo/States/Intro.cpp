#include "stdafx.h"

#include "Intro.h"
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////КОНСТРУКТОР/////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
Cls_Intro::Cls_Intro( bool IsEnd001 )
{
	IsEnd = IsEnd001;
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////ДЕСТРУКТОР//////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
Cls_Intro::~Cls_Intro()
{
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////ЗАГРУЗКА ИЗОБРАЖЕНИЙ////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void Cls_Intro::Loading( Str_Geminus< unsigned int > &FieldSizes )
{
	MainField.Init( FieldSizes );
	//Финальная заставка
	if( IsEnd )
	{
		Title.Name =  "		           _  _             _  _   \n";
		Title.Name += "  .       /\\/%\       .   /%\/%\     . \n";
		Title.Name += "      __.<\\%#//\,_       <%%#/%%\,__  .\n";
		Title.Name += ".    <%#/|\\%%%#///\    /^%#%%\///%#\\  \n";
		Title.Name += "      ~~/%/~~\ \~~//|   |/~~'/ /\//~//' \n";
		Title.Name += " .     L/'`   \ \  `    ~   / /  ```    \n";
		Title.Name += "        `      \ \     .   / /       .  \n";
		Title.Name += " .       .      \ \       / /  .        \n";
		Title.Name += "        .        \ \     / /          . \n";
		Title.Name += "   .      .    ..:\ \:::/ /:.     .    .\n";
		Title.Name += "______________/ \__;\___/\;_/\__________\n";
		Title.Name += "YwYwYwYwYwYwYwYwYwYwYwYwYwYwYwYwYwYwYwYw\n";

		Title.Koordinates.Primis = ( FieldSizes.Primis - Title.Name.length() / 12 ) / 2;
		Title.Koordinates.Secundus = 1;

		GameName.Name = "THE END";
		GameName.Koordinates.Primis = ( FieldSizes.Primis - GameName.Name.length() ) / 2;
		GameName.Koordinates.Secundus = FieldSizes.Secundus * 0.63;
	}
	//Начальная заставка
	else
	{
		Title.Name =  "    Y \n";
		Title.Name += "  .-^-. \n";
		Title.Name += " /     \\ \n";
		Title.Name += "()     () \n";
		Title.Name += " \\_   _/ \n";
		Title.Name += "   | | \n";
		Title.Name += "   | | \n";

		Title.Koordinates.Primis = ( FieldSizes.Primis - 10 ) / 2;
		Title.Koordinates.Secundus = 1;

		GameName.Name = "Snake Game Ver 0,1";
		GameName.Koordinates.Primis = ( FieldSizes.Primis - GameName.Name.length() ) / 2;
		GameName.Koordinates.Secundus = FieldSizes.Secundus * 0.6;
	}

	Greeting.Name = "PRESS ANY BUTTON TO CONTINUE";
	Greeting.Koordinates.Primis = ( FieldSizes.Primis - Greeting.Name.length() ) / 2;
	Greeting.Koordinates.Secundus = GameName.Koordinates.Secundus + 2;
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////ОБРАБОТКА НАЖАТИЙ КЛАВИАТУРЫ///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void Cls_Intro::KeyBoardEvents( int SomeButton )
{	
	//unsigned int Array[] = { 13, 27, 32 };
	//Escape, Enter, Space
	//Срабатывает от любой клавиши
	if( SomeButton )
	{
		ChangeState( STATE_MENU, 1, 1, false );
	}
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////ОБРАБОТКА ЛОГИКИ ИГРЫ//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void Cls_Intro::Logic()
{	
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////ОТОБРАЗИТЬ МЕНЮ И ДРУГИХ ОБЪЕКТОВ///////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void Cls_Intro::Render()
{
	PrepareField( MainField );

	CopyObjectToField( Title, MainField );
	CopyObjectToField( GameName, MainField );
	CopyObjectToField( Greeting, MainField );

	std::cout << MainField.GetPointerArray();
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////